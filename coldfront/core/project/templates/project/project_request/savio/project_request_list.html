{% extends "common/base.html" %}
{% load crispy_forms_tags %}
{% load common_tags %}
{% load static %}


{% block title %}
Savio Project New and Pending Requests
{% endblock %}


{% block content %}
<h1>Savio Project Requests</h1>
{% if savio_project_request_list %}
<div class="table-responsive">
  <table class="table table-sm">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Date Requested/<br>Last Modified</th>
        <th scope="col">Requester Email</th>
        <th scope="col">Project</th>
        <th scope="col">Allocation Type</th>
        <th scope="col">Pooling?</th>
        <th scope="col">PI</th>
      </tr>
    </thead>
    <tbody>
      {% for savio_project_request in savio_project_request_list %}
      <tr>
        <td>
          <a href="{% url 'savio-project-request-detail' savio_project_request.pk %}">
            {{ savio_project_request.pk }}
          </a>
        </td>
        <td>{{ savio_project_request.modified|date:"M. d, Y" }}</td>
        <td>{{ savio_project_request.requester.email }}</td>
        <td>{{ savio_project_request.project.name }}</td>
        <td>{{ savio_project_request.allocation_type }}</td>
        <td>{{ savio_project_request.pool }}</td>
        <td>{{ savio_project_request.pi.email }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<div class="alert alert-info">
  No new or pending Savio project requests!
</div>
{% endif %}

<script>
  $("#navbar-main > ul > li.active").removeClass("active");
  $("#navbar-admin").addClass("active");
  $("#navbar-project-savio-project-requests").addClass("active");
</script>

{% endblock %}
